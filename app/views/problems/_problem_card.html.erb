<% if problem.category === tag || tag == "rerender" %>
  <div id=<%= "problem_#{problem.id}" %> >

    <%= link_to problem_path(problem) do %>
      <div class="problem-card dark-blue">
        <div class="card-title">
          <h5 class="pb-2"><%= problem.title %></h5>
          <div class="time-ago">
            <p><%= local_time_ago(problem.created_at) %></p>
          </div>
        </div>
        <div class="card-text">
          <p><%=h truncate(problem.description, :length => 150) %></p>
        </div>
        <div class="card-actions">
          <div class="author">
              <% if problem.user.photo.attached? %>
                <p><span><%= cl_image_tag problem.user.photo.key, height: 24, width: 24, crop: :fill, gravity: :face %> <%= problem.user.first_name %> <%= problem.user.last_name.first %></span></p>
              <% else %>
                <p><span><img class="small-avatar" src="https://res.cloudinary.com/docykmjwf/image/upload/v1600394322/default_profile_pic_cqfzoi.png" alt="user-avatar" style="crop:fill"> <%= problem.user.first_name %> <%= problem.user.last_name.first %></span></p>
              <% end %>
          </div>
          <div class="votes">
            <% if Vote.where(votable: problem, user:  current_user).empty? && star != false %>
              <%= link_to upvote_problem_path(problem), method: :post, remote: true,  class: 'button'  do %>
                <i class="far fa-thumbs-up"></i>
              <% end %>
            <% else %>
              <i class="fas fa-thumbs-up"></i>
            <% end %>
            <!-- comment button? -->
            <p><%= problem.votes.count %></p>   
          </div>
          <div class="solutions">
            <svg class="solution-icon"xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-width="1.5" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
            </svg>
            <p><%= problem.solutions.count %></p>
          </div>
        </div>
      </div>
    <% end %>
  
  </div>
<% end %>
